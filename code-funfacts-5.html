<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content='Pick up basic Java programming skills and put together your very own "Fun Facts" Android mobile app!'>
		<meta name="author" content="Makers' Lab">

		<link rel="shortcut icon" href="favicon.ico">

		<title>Makers' Lab: Android App Tutorial</title>

		<link href="./bootstrap/css/bootstrap.css" rel="stylesheet">
		<link href="./bootstrap/font-awesome/css/font-awesome.css" rel="stylesheet">
		<link href="./includes/js/bxslider/jquery.bxslider.css" rel="stylesheet">
		<link href="./includes/themes/default/style.css" rel="stylesheet">
 
	</head>
	<body>

		<!-- SIDE-MENU DIVISION STARTS HERE-->

		<ul id="sidemenu" class="sidemenu hidden-xs">
			<li><a class="sidemenu-brand" href="./index.html">Android App<br>Tutorial<br>(Front-end)</a></li>
			<li>
				<a href="index.html"><i class="icon-home icon-2x"></i><br/>Home</a></li>
			<li>
				<a class="flyout" href="#"><i class="icon-pencil icon-2x"></i><br/>Practice <i class="icon-caret-right"></i></a>
				<ul class="submenu">
					<li class="submenu-section"></i>Beginner</li>
					<li class="submenu-item"><a href="beginner-1.html">Data Types</a></li>
					<li class="submenu-item"><a href="beginner-2.html">Arrays</a></li>
					<li class="submenu-item"><a href="beginner-3.html">Operators</a></li>
					<br>
					<li class="submenu-section"></i>Intermediate</li>
					<li class="submenu-item"><a href="intermediate-1.html">Statements and Blocks</a></li>
					<li class="submenu-item"><a href="intermediate-2.html">Control Flow Statements</a></li>
					<li class="submenu-item"><a href="intermediate-3.html">Method Blocks</a></li>
					<br>
					<li class="submenu-section"></i>Advanced</li>
					<li class="submenu-item"><a href="advanced-1.html">Java Classes</a></li>
					<li class="submenu-item"><a href="advanced-2.html">Objects</a></li>
					<!-- <li class="submenu-item"><a href="advanced-3.html">Activities</a></li> -->
				</ul>
			</li>
			<li>
				<a class="flyout selected" href="#"><i class="icon-code icon-2x"></i><br/>Code App <i class="icon-caret-right"></i></a>
				<ul class="submenu">
					<li class="submenu-section"></i>Fun Facts App</li>
					<li class="submenu-item"><a href="code-funfacts-1.html">Create Project in IDE</a></li>
					<li class="submenu-item"><a href="code-funfacts-2.html">Create XML Layout</a></li>
					<li class="submenu-item"><a href="code-funfacts-3.html">Implement Java Logic</a></li>
					<li class="submenu-item"><a href="code-funfacts-4.html">Improve Code with OOP</a></li>
					<br>
					<li class="submenu-item"><a href="code-funfacts-5.html">Additional Android Features</a></li>
				</ul>
			</li>
			<li><a href="cheatsheet.html"><i class="icon-book icon-2x"></i><br/>Cheat Sheet</a></li>
			<!-- <li><a href="glossary.html"><i class="icon-question icon-2x"></i><br/>Glossary</a></li> -->
			<br>
			<li><a href="finish.html"><i class="icon-trophy icon-2x"></i><br/>Finished Apps!</a></li>
	    </ul>

		<!-- SIDE-MENU DIVISION ENDS HERE-->


		<!-- MAIN DIVISION STARTS HERE-->

		<div class="content-area">


			<div class="page-header">
				<div class="container">
					<h3>Fun Facts App > <b>Additional Android Features</b></h3>
				</div>			
			</div>
		

			<!-- CONTENT BODY STARTS HERE-->
			<div class="container">
				<br>
				<div class="col-sm-8">
					We will be exploring other new Android features here - displaying images, retrieving user input in the app, switching between activities (screens), and passing data between activities.
					<br><br>
					<h4>1. Create a new activity, <b>WelcomeActivity</b></h4>
					Let's start with another blank activity template
					<br>
					<img src="./includes/img/app5-1a.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<img src="./includes/img/app5-1b.png" style="width:800px; margin-top: 15px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>2. Edit the XML layout - to display image</h4>
					Remove the default <b>textView</b> on the screen, and add an <b>ImageView</b>, and set src = "@drawable/welcome_img"
					<img src="./includes/img/app5-2a.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<img src="./includes/img/app5-2b.png" style="width:300px; margin-top: 15px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>3. Add the intended image into the project directory</h4>
					Navigate to the folder that stores all app images, <b>drawable-______</b>. For this image, we will use the folder <b>drawable-hdpi</b>
					<br>
					<img src="./includes/img/app5-3a.png" style="width:400px; margin-top: 10px; border:1px solid #b7c0c7;">
					<img src="./includes/img/app5-3b.png" style="width:800px; margin-top: 15px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>4. Edit the XML layout - place button</h4>
					Add a button for user to navigate to the next activity (<b>FunFactsActivity</b>). Set button properties - id = "startButton", text = "Start Fun Facts!", textSize = "24sp", layout:width = "match_parent", background = "#ffffff"
					<br>
					<img src="./includes/img/app5-4.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>5. Edit the XML layout - to retrieve user input</h4>
					Add an input field for user to key in his or her name. Set id = "userName", hint = "Enter your name", textSize = "24sp", gravity = "center", layout:width = "match_parent", layout:margin.bottom = "20dp", padding.all = "5sp"
					<br>
					<img src="./includes/img/app5-5.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>6. Edit the XML layout - change background color</h4>
					Change the background color to any of your choice, and you should obtain the final graphic below
					<br><br>
					<textarea  name="paragraph_text" cols="30" rows="10">
	// choose any of the 12 colors
	"#39add1", // light blue
	"#3079ab", // dark blue
	"#c25975", // mauve
	"#e15258", // red
	"#f9845b", // orange
	"#838cc7", // lavender
	"#7d669e", // purple
	"#53bbb4", // aqua
	"#51b46d", // green
	"#e0ab18", // mustard
	"#637a91", // dark gray
	"#f092b0", // pink</textarea>
					<br>
					<img src="./includes/img/app5-6.png" style="width:800px; margin-top: 15px; border:1px solid #b7c0c7;">
					<br><br>
					Note: Your action bar should be hidden if you used "NoActionBar" in <b>styles.xml</b>.
					<br><br><br>
					<h4>7. Implement Java logic - add buttonListener and retrieve user input</h4>
					Again, delete the methods <b>onCreateOptionsMenu</b> and <b>onOptionsItemSelected</b>. Set onClickListener for <b>startButton</b> and implement the <b>onClick()</b> logic - to retrieve and store <b>userName</b> from the <b>editText</b> element. Understand lines 17 - 37 and attempt to program it yourself
					<br>
					<img src="./includes/img/app5-7.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>8. Implement Java logic - change screen activity and pass data over</h4>
					Add additional logic into <b>startButton</b>'s onClick() method - to launch <b>FunFactsActivity</b> and pass <b>userName</b> data over. Understand lines 35 - 40 and attempt to program it yourself
					<br>
					<img src="./includes/img/app5-8.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>9. Edit the Java logic in <b>FunFactsActivity</b> class</h4>
					To retrieve the <b>userName</b> data passed over from previous activity, and display it on the current screen. Understand lines 20 - 30 and attempt to program it yourself
					<br>
					<img src="./includes/img/app5-9.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>10. Configure app settings to launch app at <b>WelcomeActivity</b> screen</h4>
					Navigate to and open file <b>AndroidManifest.xml</b>
					<br>
					<img src="./includes/img/app5-10a.png" style="width:300px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br>
					The highlighted text in lines 13 - 17 (in the first image) decide which activity the app launches on. Move it down into <b>WelcomeActivity</b>'s block as seen in lines 17 - 21 (in the second image)
					<br>
					<img src="./includes/img/app5-10b.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<img src="./includes/img/app5-10c.png" style="width:800px; margin-top: 15px; border:1px solid #b7c0c7;">
					<br><br>
					Also add the line "android:windowSoftInputMode="stateAlwaysHidden"" to <b>AndroidManifest.xml</b>, as shown in line 17 below. This prevents the keyboard from opening immediately upon activity launch
					<br>
					<img src="./includes/img/app5-10d.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>11. Change app icon on device's home screen</h4>
					<b>android:icon</b> in <b>AndroidManifest.xml</b> sets the image for the app's icon. Change its value to "@drawable/welcome_img.png" or any other image you prefer. Don't forget to include the image file in the <b>drawable-hdpi</b> project folder
					<br>
					<img src="./includes/img/app5-11.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br><br>
					<h4>12. Change app's name on device's home screen</h4>
					The name of our app is tagged to the title/label of the main launcher activity, which is <b>WelcomeActivity</b> in our app. Thus, our app's name here is "Fun Facts". If you prefer something else, go ahead and change it in <b>AndroidManifest.xml</b>, as shown in line 16 below 
					<br>
					<img src="./includes/img/app5-12.png" style="width:800px; margin-top: 10px; border:1px solid #b7c0c7;">
					<br><br><br>
					Test run again with an Android device or an emulator.
					<br><br>
					<!-- <br><br>
					<div>
						<button class="btn btn-main btn-large" onclick="location.href='cheatsheet.html'">Explore more Android features! <i class="icon-caret-right"></i></button>
					</div> -->

					<br><br>
				</div>
			</div>
			<hr/> <!-- line break -->
			<div class="container">
				<div class="col-sm-8">
					<br><br>

					<h4>Refer to or copy the following code if you encounter major bugs:</h4>
					<br>

					<b>activity_welcome.xml</b>
					<textarea  name="paragraph_text" cols="100" rows="20">
	<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
	    xmlns:tools="http://schemas.android.com/tools"
	    android:layout_width="match_parent"
	    android:layout_height="match_parent"
	    android:paddingLeft="@dimen/activity_horizontal_margin"
	    android:paddingRight="@dimen/activity_horizontal_margin"
	    android:paddingTop="@dimen/activity_vertical_margin"
	    android:paddingBottom="@dimen/activity_vertical_margin"
	    tools:context="nturep.funfacts.WelcomeActivity"
	    android:background="#c25975">

	    <ImageView
	        android:layout_width="wrap_content"
	        android:layout_height="wrap_content"
	        android:id="@+id/imageView3"
	        android:layout_alignParentTop="true"
	        android:layout_centerHorizontal="true"
	        android:src="@drawable/welcome_img" />

	    <Button
	        android:layout_width="match_parent"
	        android:layout_height="wrap_content"
	        android:text="Start Fun Facts!"
	        android:id="@+id/startButton"
	        android:layout_alignParentBottom="true"
	        android:layout_centerHorizontal="true"
	        android:textSize="24sp"
	        android:background="#ffffff" />

	    <EditText
	        android:layout_width="match_parent"
	        android:layout_height="wrap_content"
	        android:id="@+id/userName"
	        android:layout_above="@+id/startButton"
	        android:layout_centerHorizontal="true"
	        android:layout_marginBottom="20dp"
	        android:gravity="center"
	        android:padding="5sp"
	        android:hint="Enter your name"
	        android:textSize="24sp" />
	</RelativeLayout>
					</textarea>
					<br><br><br>
					
					<b>WelcomeActivity.java</b>
					<textarea  name="paragraph_text" cols="100" rows="20">
	package nturep.funfacts;

	import android.app.Activity;
	import android.content.Intent;
	import android.os.Bundle;
	import android.view.View;
	import android.widget.Button;
	import android.widget.EditText;

	public class WelcomeActivity extends Activity {

	    @Override
	    protected void onCreate(Bundle savedInstanceState) {
	        super.onCreate(savedInstanceState);
	        setContentView(R.layout.activity_welcome);


	        // create a Java buttonReference on the desired XML element in the layout
	        Button buttonReference = (Button) findViewById(R.id.startButton);

	        // create the button listener object, and implement the desired onClick logic
	        View.OnClickListener listenerReference = new View.OnClickListener() {

	            @Override
	            public void onClick(View view) {
	                // the button was clicked, let's set some action to each click

	                // create a Java inputReference on the desired XML element in the layout
	                EditText inputReference = (EditText) findViewById(R.id.userName);
	                // retrieve the user's input and store it in a String variable
	                String userInput = inputReference.getText().toString();


	                // create a new Java nextActivityReference on FunFactsActivity.class
	                Intent nextActivityReference = new Intent(WelcomeActivity.this, FunFactsActivity.class);
	                // pass userName data over to next activity, referenced by "userName"
	                nextActivityReference.putExtra("userName", userInput);
	                // launch the next activity referenced
	                startActivity(nextActivityReference);

	            }
	        };

	        // attach listenerReference object created to buttonReference
	        buttonReference.setOnClickListener(listenerReference);
	    }
	}
					</textarea>
					<br><br><br>
					
					<b>FunFactsActivity.java</b>
					<textarea  name="paragraph_text" cols="100" rows="20">
	package nturep.funfacts;

	import android.app.Activity;
	import android.graphics.Color;
	import android.os.Bundle;
	import android.view.View;
	import android.widget.Button;
	import android.widget.RelativeLayout;
	import android.widget.TextView;


	public class FunFactsActivity extends Activity {

	    @Override
	    protected void onCreate(Bundle savedInstanceState) {
	        super.onCreate(savedInstanceState);
	        setContentView(R.layout.activity_fun_facts);


	        // retrieve the userName data passed over from previous activity
	        String userName = getIntent().getExtras().getString("userName");

	        // create a Java reference on the header TextView
	        TextView headerReference = (TextView) findViewById(R.id.header);

	        // create the String to display on the header
	        String headerMessage = "Hello " + userName + ", did you know?";

	        // change the header TextView to display the String
	        headerReference.setText(headerMessage);



	        // create a Java buttonReference on the desired XML element in the layout
	        Button buttonReference = (Button) findViewById(R.id.nextButton);

	        // create the button listener object, and implement the desired onClick logic
	        View.OnClickListener listenerReference = new View.OnClickListener() {

	            @Override
	            public void onClick(View view) {
	                // the button was clicked, let's set some action to each click


	                // declare and initialize a factBook and a colorWheel object
	                FactBook factBook = new FactBook();
	                ColorWheel colorWheel = new ColorWheel();

	                // create a Java factReference on desired XML element in the layout
	                TextView factReference = (TextView) findViewById(R.id.funFact);
	                // change the funFact textView to display a new fact
	                factReference.setText(factBook.getFact());

	                // create a Java backgroundReference on desired XML element in the layout
	                RelativeLayout backgroundReference = (RelativeLayout) findViewById(R.id.background);
	                // translate the hexadecimal colorString into an int
	                int colorID = Color.parseColor(colorWheel.getColor());
	                // change the background Layout to a new color
	                backgroundReference.setBackgroundColor(colorID);

	            }
	        };

	        // attach listenerReference object created to buttonReference
	        buttonReference.setOnClickListener(listenerReference);
	    }
	}
					</textarea>
					<br><br><br>
					
					<b>AndroidManifest.xml</b>
					<textarea  name="paragraph_text" cols="100" rows="20">
	<?xml version="1.0" encoding="utf-8"?>
	<manifest xmlns:android="http://schemas.android.com/apk/res/android"
	    package="nturep.funfacts" >

	    <application
	        android:allowBackup="true"
	        android:icon="@drawable/welcome_img"
	        android:label="@string/app_name"
	        android:theme="@style/AppTheme" >
	        <activity
	            android:name=".FunFactsActivity"
	            android:label="@string/app_name" >
	        </activity>
	        <activity
	            android:name=".WelcomeActivity"
	            android:label="@string/app_name"
	            android:windowSoftInputMode="stateAlwaysHidden" >
	            <intent-filter>
	                <action android:name="android.intent.action.MAIN" />

	                <category android:name="android.intent.category.LAUNCHER" />
	            </intent-filter>
	        </activity>
	    </application>

	</manifest>
					</textarea>


					<br><br><br><br><br>
				</div>
			</div>
			
			<!-- CONTENT BODY ENDS HERE-->
			<!-- FOOTER STARTS HERE-->

			<footer>
				<div class="container">
					<div class="row">
						<hr class="visible-xs" />		
						<hr class="visible-xs" />
						<div class="col-sm-4 footer-newsletter">
							<h5>Feedback</h5>
							<p class="justify">Have a comment or bug report on our tutorial?</p>
							Leave it <a href="http://goo.gl/QLhgqU" target="_blank"><u>here</u></a>
							<!--<form role="form">
								<input type="paragraph" class="form-control" style="width:95%;margin-bottom:10px;" id ="feedback" /> 
								<input type="submit" class="btn btn-default btn-footer" value="Submit" id ="submitfb" />
							</form> -->
						</div>
					</div>		
				</div>
			</footer>

			<div id="footer-bottom">
				2014 Makers' Lab
			</div>

		</div>

		<script src="./includes/js/jquery-2.0.3.min.js"></script>
		<script src="./bootstrap/js/bootstrap.min.js"></script>
		<script src="./includes/js/default.js"></script>
	</body>
</html>

